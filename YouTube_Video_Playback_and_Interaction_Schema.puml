@startuml YouTube_Video_Playback_Architecture

' 设置整体主题
!theme minty
skinparam backgroundColor #FAFAFA
skinparam defaultFontName Arial
skinparam defaultFontSize 12
skinparam padding 5
skinparam roundCorner 10

' 定制组件样式
skinparam component {
  BackgroundColor #E1F5FE
  BorderColor #0288D1
  FontColor #01579B
}

' 定制接口样式
skinparam interface {
  BackgroundColor #E8F5E9
  BorderColor #4CAF50
  FontColor #1B5E20
}

' 定制箭头样式
skinparam arrow {
  Color #546E7A
  FontColor #37474F
  Thickness 1.5
}

' 定制注释样式
skinparam note {
  BackgroundColor #FFF3E0
  BorderColor #FF9800
  FontColor #E65100
}

' 定义主要组件
actor "User" as user #E1BEE7
component "Video Player" as videoplayer
component "CDN" as cdn
database "Video Storage" as videostorage
component "Streaming Server" as streamingserver
database "User Preferences DB" as userprefsdb
component "Analytics Service" as analyticsservice

' 定义交互流程
user -down-> videoplayer : 1. Request video
videoplayer -right-> cdn : 2. Request content
cdn -down-> videostorage : 3. Fetch if not cached
cdn -left-> videoplayer : 4. Deliver content
videoplayer -down-> streamingserver : 5. Request stream
streamingserver -left-> userprefsdb : 6. Check user preferences
streamingserver -up-> videoplayer : 7. Adaptive streaming
videoplayer -right-> analyticsservice : 8. Send playback data

' 添加注释
note right of cdn
  Caches popular content
  for faster delivery
end note

note bottom of streamingserver
  Provides adaptive bitrate streaming
  based on user's connection
end note

@enduml
