@startuml
skinparam backgroundColor #D3D3D3

package "Private Cloud Compute Nodes" {
    [Central Coordination Node] as Coordinator
    frame "Apache Spark Cluster" {
    [Distributed Producer Node 1] as DistProducer1
    [Distributed Producer Node 2] as DistProducer2
    }
    frame "Kubernetes Cluster" {
        [Kubernetes Autoscaler] as Autoscaler
    }
    [Central Pub/Sub Messaging System] as PubSub
}

package "Free Compute Resources Nodes" {
    [Consumer Node 1] as FreeConsumer1
    [Consumer Node 2] as FreeConsumer2
}
    
[RESTful Thread API] as API

Coordinator --> Autoscaler : Monitor & Adjust Resources
Autoscaler --> DistProducer1 : Scale In/Out
Autoscaler --> DistProducer2 : Scale In/Out
Coordinator --> PubSub : Manage
    
DistProducer1 --> PubSub : Publish Strings
DistProducer2 --> PubSub : Publish Strings

PubSub --> FreeConsumer1 : Subscribe & Get Strings
PubSub --> FreeConsumer2 : Subscribe & Get Strings

FreeConsumer1 --> API : Validate String
FreeConsumer2 --> API : Validate String

API --> FreeConsumer1 : Return Status Code
API --> FreeConsumer2 : Return Status Code

Coordinator -up-> [Stop Signal] : If Correct String Found

@enduml
