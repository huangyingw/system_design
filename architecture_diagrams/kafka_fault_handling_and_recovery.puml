@startuml
skinparam backgroundColor #FFFAFA

class Broker1 << (K,orchid) >> {
    Fails
    Leader election and failover via Zookeeper
}
class Broker2 << (K,orchid) >> {
    Wins the election
    Leader election and failover via Zookeeper
}
class Broker3 << (K,orchid) >> {
    Takes over
    Leader election and failover via Zookeeper
}
class Broker4 << (K,orchid) >> {
    Standby for failover
}
class Zookeeper << (Z,yellow) >> {
    Manages leader election
}

Broker1 --> Zookeeper : leader election
Broker2 --> Zookeeper : leader election
Broker3 --> Zookeeper : leader election

Broker1 -[#red]> Broker4 : fail
Broker2 -[#blue]> Broker4 : takeover
Broker3 -[#blue]> Broker4 : takeover

@enduml
