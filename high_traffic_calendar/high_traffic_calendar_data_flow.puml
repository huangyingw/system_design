@startuml

actor User

rectangle "API Gateway" {
  [Create Event]
  [Update Event]
  [Delete Event]
  [Get Events]
}

rectangle "Web Server" {
  [Business Logic]
}

rectangle "Primary DB" {
  [PostgreSQL/MySQL]
}

rectangle "Cache" {
  [Redis]
}

rectangle "Search Engine" {
  [Elasticsearch]
}

rectangle "Task Queue" {
  [Celery]
}

User --> [API Gateway]: Request
[API Gateway] --> [Web Server]: Forward Request
[Web Server] --> [Primary DB]: Query
[Web Server] --> [Cache]: Get/Set
[Web Server] --> [Search Engine]: Search
[Web Server] --> [Task Queue]: Send Task
[Task Queue] --> [Worker]: Process Task
[Worker] --> [Primary DB]: Query/Update
[Worker] --> [Cache]: Update

@enduml
