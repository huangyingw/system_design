@startuml

actor User

rectangle "API Gateway" {
  [Create Event]
  [Update Event]
  [Delete Event]
  [Get Events]
}

rectangle "Web Server" {
  [Business Logic]
}

rectangle "MongoDB Cluster" {
  [Query Routers (mongos)]
  [Shards]
}

rectangle "Cache" {
  [Redis]
}

User --> "API Gateway": Request
"API Gateway" --> "Web Server": Forward Request
"Web Server" --> "Cache": Check Cache
"Cache" --> "Web Server": Cache Hit
"Web Server" --> "Query Routers (mongos)": Cache Miss
"Query Routers (mongos)" --> "Shards": Access Data

@enduml
