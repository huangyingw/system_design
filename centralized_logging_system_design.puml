@startuml Centralized Logging System Design

!define RECTANGLE class

allowmixing

skinparam {
    backgroundColor #F0F8FF
    handwritten false
    defaultFontName "Roboto"
    defaultFontSize 12
    roundcorner 15
    shadowing false
    
    rectangleBackgroundColor #E6F3FF
    rectangleBorderColor #4682B4
    
    queueBackgroundColor #FFE4B5
    queueBorderColor #DEB887
    
    databaseBackgroundColor #E6E6FA
    databaseBorderColor #9370DB
    
    actorBackgroundColor #F0FFF0
    actorBorderColor #98FB98
    
    arrowColor #4682B4
    
    note {
        fontName "Roboto Condensed"
        fontSize 11
        borderColor #20B2AA
        backgroundColor #E0FFFF
    }
    
    titleFontName "Roboto Slab"
    titleFontSize 20
    titleFontColor #2F4F4F
}

title Centralized Logging System Design

' Log Sources
RECTANGLE "Log Sources" as Sources {
    [Application Logs]
    [System Logs]
    [Network Logs]
}

' Log Collection
RECTANGLE "Log Shipper" as Shipper {
    [FileBeat]
    [Fluentd]
}

' Log Transport
queue "Kafka" as Kafka

' Log Processing
RECTANGLE "Log Processor" as Processor {
    [Logstash]
    [Stream Processor]
}

' Log Storage
database "Elasticsearch" as ES
database "Cold Storage" as ColdStorage

' Log Analysis and Search
RECTANGLE "Kibana" as Kibana {
    [Search Interface]
    [Visualization]
}

' Log Management
RECTANGLE "Log Management" as Management {
    [Retention Policy]
    [Access Control]
    [Encryption]
}

' User Interface
actor "Admin/User" as User

' Relationships
Sources -[#4682B4]-> Shipper : Collect
Shipper -[#4682B4]-> Kafka : Ship
Kafka -[#4682B4]-> Processor : Consume
Processor -[#4682B4]-> ES : Index
ES -[#4682B4]-> ColdStorage : Archive
ES -[#4682B4]right-> Kibana : Query
Kibana -[#4682B4]up-> User : Provide UI
Management -[#4682B4]up-> ES : Manage
Management -[#4682B4]up-> ColdStorage : Manage

note right of Shipper
  Lightweight agents deployed on each node
  Supports various log formats
  Ensures reliable log collection and shipping
end note

note right of Processor
  Parses and enriches log data
  Performs real-time analysis
  Handles log format standardization
end note

note left of ES
  Provides fast full-text search
  Supports structured and unstructured data
  Enables real-time log analysis
end note

note left of Management
  Implements log retention policies
  Manages access control and encryption
  Ensures compliance with data regulations
end note

@enduml
