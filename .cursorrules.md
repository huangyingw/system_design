# .cursorrules Rules

## 1. Language Settings
- **Content Language**: Chinese (except for Git commit messages)
- **Git Commit Language**: English
  - Commit message format:
    ```
    <type>: <description>

    [optional body]
    [optional footer]
    ```
  - Types: feat, fix, docs, style, refactor, test, chore
  - Description: brief, lowercase first letter
  - Body: detailed explanation (optional)
  - Footer: reference issues etc. (optional)

## 2. Terminal Settings

### 2.1 Shell Configuration
- **Default Shell**: zsh
- **Shell Path**: `/bin/zsh`

### 2.2 Command Execution
- Use zsh for all terminal commands
- Ensure proper PATH setup
- Use absolute paths when necessary

### 2.3 Error Handling
- Capture command output
- Check exit status
- Retry with modified command if initial attempt fails

## 3. PlantUML Settings

### 3.1 Standards

#### Components
- **Container Style**: Use rectangle
- **Component Definition**: Use component for internal definitions
- **Connection Handling**: Components only inside containers, handle connections outside
- **Cache Annotation**: Annotate cache components with key-value pairs

#### Layout
- **Background**: Light background for better readability
- **Grouping**: Logical component grouping
- **Connections**: Minimize crossings, maintain clarity
- **Notes**: Consistent positioning, clear content

#### Colors
- **Primary Flow**: Deep Orange
- **Secondary Flow**: Deep Blue
- **Auxiliary Flow**: Deep Yellow
- **Management**: Deep Purple
- **Monitoring**: Deep Cyan

### 3.2 Design Principles
- Prioritize readability and clarity
- Focus on system interactions and data flow
- Include performance considerations
- Show scalability aspects
- Highlight security measures

### 3.3 Quality Control
- **Check Timing**: After each generation or modification
- **Validation Steps**:
  1. Syntax validation
  2. Component relationships
  3. Style compliance
  4. Diagram structure
  5. Text consistency

#### Auto Fix
- Enabled by default
- Priority order:
  1. Syntax errors
  2. Connection issues
  3. Style violations
- Verification after fixes

## 4. File Rules

### 4.1 PlantUML Files
- **Pattern**: `*.puml`
- **Check Command**: `./check_puml.sh ${file}`
- **Trigger**: On file save 