@startuml
skinparam backgroundColor #D3D3D3

package "IMVU Data Sources" {
    [User Activity]
    [Transaction Records]
    [System Logs]
}

package "Kafka Cluster" {
    [User Events Topic]
    [Transaction Topic]
    [Log Topic]
}

package "Spark Cluster" {
    [Spark Streaming]
}

package "Data Storage" {
    [Database]
    [Data Lake]
}

package "Monitoring & Logging" {
    [Monitoring System]
    [Logging System]
}

[User Activity] --> [User Events Topic] : Streams data
[Transaction Records] --> [Transaction Topic] : Streams data
[System Logs] --> [Log Topic] : Streams data

[User Events Topic] --> [Spark Streaming]
[Transaction Topic] --> [Spark Streaming]
[Log Topic] --> [Spark Streaming]

[Spark Streaming] --> [Database] : Stores processed data
[Spark Streaming] --> [Data Lake] : Stores processed data

[Spark Streaming] ..> [Monitoring System] : Reports status
[Spark Streaming] ..> [Logging System] : Logs activities

@enduml
