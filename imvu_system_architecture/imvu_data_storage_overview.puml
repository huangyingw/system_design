@startuml
' ==================== Metadata ====================
' @category: database
' @tags: #kafka, #database, #imvu, #redis, #elasticsearch
' @application: IMVU
' @tech-stack: Kafka, Redis, Elasticsearch
' @pattern: Architecture
' @description: Imvu Data Storage Overview
' ==================================================

skinparam backgroundColor #D3D3D3

package "Relational Database" as RDB {
    [User Basic Information]
    [Transaction Records]
    [Virtual Goods Catalog]
    [Social Relationship Network]
}
note right of RDB
  Suitable for structured and
  transactional data
  Supports complex relationship queries
end note

package "NoSQL Database" as NoSQL {
    [User Behavior Data]
    [Social Interaction Content]
    [User Preferences and Settings]
}
note left of NoSQL
  Flexible data models
  Suitable for personalized services
  and large data sets
  Suitable for User Preferences
  and Settings
end note

package "Elasticsearch" as ES {
    [User Browsing History]
    [Search Queries]
    [Click Data]
    [Purchase History]
    [Product Descriptions]
    [Tags and Keywords]
    [Ratings and Reviews]
    [User Activity Logs and System Metrics]
}
note right of ES
  Fast searching and real-time analysis
  Suitable for logs and large data sets
  Ideal for analyzing user data and behavior
  for recommendations
end note

package "Redis" as Redis {
    [User Session Data]
    [Frequently Accessed Data Cache]
    [Real-time Leaderboards]
    [Counters and Rate Limiters]
}
note left of Redis
  Fast access and caching
  Suitable for sessions, leaderboards,
  messaging, and rate limiting
end note

package "Apache Kafka" as Kafka {
    [Publish/Subscribe Messaging]
    [Task Queues]
}
note right of Kafka
  High-throughput, distributed messaging
  Suitable for large-scale message processing
  and task queues
end note

RDB --> NoSQL: Export relational data
NoSQL --> ES: Index for fast search
ES --> Redis: Cache frequently accessed data
Redis --> Kafka: Stream updates

@enduml
